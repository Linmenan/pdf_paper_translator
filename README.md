ğŸš€ æœ¬åœ°åŒ– AI å­¦æœ¯æ–‡çŒ®ç¿»è¯‘ç³»ç»Ÿ (Local Paper Translator)

1. ç³»ç»Ÿæ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªé›†æˆäº† Web å¯è§†åŒ–æ ‡æ³¨ã€PDF æ™ºèƒ½æ‹†åˆ†ã€LLM åŒæ¨¡ç¿»è¯‘ ä»¥åŠ äººæœºå›ç¯çº é”™ (HITL) çš„å…¨æµç¨‹æœ¬åœ°åŒ–å·¥å…·ã€‚

ç³»ç»Ÿé‡‡ç”¨ Vue.js 3 å‰ç«¯ + Python åç«¯æ¶æ„ï¼Œå½»åº•é‡æ„äº†äº¤äº’æµç¨‹ã€‚å®ƒä¸ä»…è§£å†³äº†ä¼ ç»Ÿç¿»è¯‘å·¥å…·å…¬å¼ä¸¢å¤±ã€å›¾è¡¨é”™ä½çš„ç—›ç‚¹ï¼Œè¿˜å¼•å…¥äº†ç±»ä¼¼ CAT (è®¡ç®—æœºè¾…åŠ©ç¿»è¯‘) çš„ä»»åŠ¡åˆ—è¡¨è§†å›¾ï¼Œå…è®¸ç”¨æˆ·åœ¨ç¿»è¯‘å‰é¢„è§ˆæ‹†åˆ†ç»“æœï¼Œåœ¨ç¿»è¯‘åè¿›è¡Œæ‰€è§å³æ‰€å¾—çš„å¾®è°ƒã€‚

2. æ ¸å¿ƒé¡µé¢ä¸å·¥ä½œæµ (Workflow & Navigation)

ç³»ç»Ÿå°†ç¿»è¯‘è¿‡ç¨‹æ ‡å‡†åŒ–ä¸ºä¸‰ä¸ªæ ¸å¿ƒæ­¥éª¤ã€‚ç”¨æˆ·å¯ä»¥åœ¨ä¸åŒé˜¶æ®µä¹‹é—´æµè½¬ï¼Œç³»ç»Ÿä¼šæ ¹æ®æ–‡çŒ®çš„å¤„ç†çŠ¶æ€è‡ªåŠ¨åˆ¤æ–­è¿›å…¥çš„é¡µé¢ã€‚

ğŸ”„ é¡µé¢è·³è½¬é€»è¾‘

graph TD
Start[é¦–é¡µ: æ–‡çŒ®åº“ Dashboard] -->|é€‰æ‹©æ–‡çŒ®| CheckStatus{æ£€æŸ¥çŠ¶æ€}

    CheckStatus -->|æœªå¼€å§‹| Step1
    CheckStatus -->|å·²æå–| Step2
    CheckStatus -->|å·²ç¿»è¯‘/å®Œæˆ| Step3

    subgraph Step1 [1. å¸ƒå±€æ ‡æ³¨ Layout]
        direction TB
        S1_Edit[äººå·¥ä¿®æ­£å¸ƒå±€] --> S1_Action[ç‚¹å‡»: å¼€å§‹æå–]
        S1_Action -->|åç«¯ç”Ÿæˆ _context.txt| Step2
    end

    subgraph Step2 [2. ä»»åŠ¡åˆ—è¡¨ Task List]
        direction TB
        S2_Check[æ ¸å¯¹æ‹†åˆ†ç»“æœ] --> S2_Action[ç‚¹å‡»: å¼€å§‹ç¿»è¯‘]
        S2_Action -->|åç«¯ç”Ÿæˆ _llm_result.txt| Step3
    end

    subgraph Step3 [3. ç»“æœé¢„è§ˆ Result]
        direction TB
        S3_View[åŒè¯­å¯¹ç…§é˜…è¯»] --> S3_Fix[äººå·¥çº é”™]
        S3_Fix --> S3_Refresh[ç‚¹å‡»: åˆ·æ–°æŠ¥å‘Š]
        S3_Refresh -->|é‡ç»„ HTML| S3_View
    end

    Step1 -->|é¡¶éƒ¨å¯¼èˆª| Step2
    Step2 -->|é¡¶éƒ¨å¯¼èˆª| Step3
    Step3 -->|é¡¶éƒ¨å¯¼èˆª| Step1
    Step3 -.->|è¿”å›| Start

ğŸ“„ å„é˜¶æ®µè¯¦ç»†ç‰¹æ€§æ–‡æ¡£

Step 1: [å¸ƒå±€æ ‡æ³¨ (Layout Annotation)](./docs/editor.md)

æ ¸å¿ƒä»»åŠ¡ï¼šç¡®ä¿ PDF çš„â€œå›¾ã€è¡¨ã€å…¬å¼ã€æ­£æ–‡â€è¢«æ­£ç¡®æ¡†é€‰ï¼Œä¸ºåç»­æ‹†åˆ†æ‰“å¥½åŸºç¡€ã€‚

ä¸»è¦ç‰¹æ€§ï¼š

åŸºäº Fabric.js çš„å¯è§†åŒ–ç¼–è¾‘å™¨

æ­£æ–‡æ¡†ä½ç½®è‡ªåŠ¨ç»§æ‰¿

UUID ç²¾ç¡®è¿½è¸ªä¸å±æ€§å³æ—¶ä¿®æ”¹

ğŸ‘‰ æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼šdocs/editor.md

Step 2: [ä»»åŠ¡åˆ—è¡¨ä¸ç¿»è¯‘æ§åˆ¶ (Task Dashboard)](./docs/translation_task.md)

æ ¸å¿ƒä»»åŠ¡ï¼šåœ¨æ¶ˆè€—æ˜‚è´µçš„ LLM Token ä¹‹å‰ï¼Œé¢„è§ˆæ‹†åˆ†åçš„æ–‡æœ¬ç‰‡æ®µï¼Œå¹¶ç›‘æ§ç¿»è¯‘è¿›åº¦ã€‚

ä¸»è¦ç‰¹æ€§ï¼š

æ™ºèƒ½æç¤ºè¯é¢„è§ˆï¼šæ‚¬åœæŸ¥çœ‹å®Œæ•´çš„ System Prompt + User Inputã€‚

å¼‚æ­¥ç¿»è¯‘ç›‘æ§ï¼šéé˜»å¡å¼è§¦å‘ï¼Œå®æ—¶æ˜¾ç¤ºå‰©ä½™ä»»åŠ¡æ•°ã€‚

åŠ¨æ€èµ„æºæ³¨å…¥ï¼šæŸ¥çœ‹ {ref_map} (å¦‚ Fig.1) çš„çœŸå®æ˜ å°„å…³ç³»ã€‚

ğŸ‘‰ æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼šdocs/translation_task.md

Step 3: [ç»“æœé¢„è§ˆä¸çº é”™ (Result Preview)](./docs/result_preview.md)

æ ¸å¿ƒä»»åŠ¡ï¼šé˜…è¯»æœ€ç»ˆç”Ÿæˆçš„ HTML æŠ¥å‘Šï¼Œå¹¶å¯¹ä¸æ»¡æ„çš„æ®µè½è¿›è¡Œâ€œæŒ‡å“ªæ”¹å“ªâ€çš„ä¿®æ­£ã€‚

ä¸»è¦ç‰¹æ€§ï¼š

ç¦»çº¿ HTML æŠ¥å‘Šï¼šå›¾æ–‡æ··æ’ï¼Œå®Œå…¨ä¿ç•™åŸå§‹è®ºæ–‡å¸ƒå±€ã€‚

äº¤äº’å¼çº é”™ï¼šç‚¹å‡»è¯‘æ–‡æ®µè½å³å¯è¾“å…¥ä¿®æ”¹æ„è§ã€‚

åŒæ¨¡å‹åˆ‡æ¢ï¼šçº é”™æ¨¡å¼ä¸‹è‡ªåŠ¨åˆ‡æ¢é«˜æ™ºå•†æ¨¡å‹ (å¦‚ Qwen-14B)ã€‚

ğŸ‘‰ æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼š

3. å·¥ç¨‹æ¶æ„

local_paper_translate/
â”œâ”€â”€ static/ # [Frontend] Web é™æ€èµ„æº
â”‚ â”œâ”€â”€ css/style.css # å…¨å±€æ ·å¼
â”‚ â””â”€â”€ js/app.js # Vue ä¸»é€»è¾‘ (çŠ¶æ€ç®¡ç†, è·¯ç”±è·³è½¬)
â”œâ”€â”€ extracted_output/ # [Data] ä¸­é—´äº§ç‰© (Step 1 -> Step 2)
â”‚ â””â”€â”€ {paper}/ # å­˜æ”¾æˆªå›¾ assets å’Œ layout_config.json
â”œâ”€â”€ llm_output/ # [Data] ç¿»è¯‘ç¼“å­˜ (Step 2 <-> Step 3)
â”‚ â””â”€â”€ \*\_llm_cache.json # æ ¸å¿ƒæ•°æ®åº“ï¼šå­˜å‚¨ä»»åŠ¡é˜Ÿåˆ—ã€åŸæ–‡ã€è¯‘æ–‡åŠçº é”™è®°å½•
â””â”€â”€ vis_output/ # [Data] æœ€ç»ˆäº§ç‰© (Step 3)
â””â”€â”€ {paper}/ # åŒ…å« .html æŠ¥å‘Šå’Œç¦»çº¿å›¾ç‰‡èµ„æº

4. å¿«é€Ÿå¼€å§‹ (Quick Start)

ç¯å¢ƒå‡†å¤‡: ç¡®ä¿å®‰è£… Python 3.8+ã€‚

ä¾èµ–å®‰è£…: pip install -r requirements.txtã€‚

å¯åŠ¨æœåŠ¡: è¿è¡Œ python server.pyã€‚

è®¿é—®: æµè§ˆå™¨è‡ªåŠ¨æ‰“å¼€ http://localhost:8000ã€‚

å¼€å§‹: å°† PDF æ–‡ä»¶æ”¾å…¥ academic_papers ç›®å½•ï¼Œåˆ·æ–°é¡µé¢å³å¯çœ‹åˆ°æ–‡ä»¶åˆ—è¡¨ã€‚

5. å¾…åŠäº‹é¡¹ (TODO)

6. æ–‡çŒ®çŠ¶æ€å®šä¹‰ (Status Definitions)

é¦–é¡µåˆ—è¡¨ä¸­çš„æ–‡çŒ®çŠ¶æ€é€»è¾‘å¦‚ä¸‹ï¼š

æœªå¼€å§‹:

æ¡ä»¶ï¼šæ²¡æœ‰ç”Ÿæˆæ ‡æ³¨å¥½çš„ assetsã€layout_config.json ä»¥åŠæå–çš„æ–‡æœ¬ {paper_title}\_context.txtã€‚

å·²æå–:

æ¡ä»¶ï¼šç”Ÿæˆäº† assetsã€layout_config.json ä»¥åŠæå–çš„æ–‡æœ¬ {paper_title}\_context.txtï¼Œä½†æœªç”Ÿæˆ {paper_title}\_llm_cache.jsonã€‚

å¾…ç¿»è¯‘ (xx/nn):

æ¡ä»¶ï¼š{paper_title}\_llm_cache.json å­˜åœ¨ï¼Œä½†å…¶ä¸­çš„ task æ•°é‡ä¸å…¨ä¸º successã€‚

æ˜¾ç¤ºï¼šxx ä¸ºå‰©ä½™ä»»åŠ¡æ•°ï¼Œnn ä¸ºæ€»ä»»åŠ¡æ•°ã€‚

ç¿»è¯‘å®Œæˆ:

æ¡ä»¶ï¼š{paper_title}\_llm_cache.json ä¸­æ‰€æœ‰çš„ task ä¸å…¨ä¸º successï¼Œä¸”ç”Ÿæˆ {paper_title}\_result.txtã€‚

(æ³¨ï¼šé€šå¸¸æ­¤çŠ¶æ€æ„å‘³ç€ LLM æ¨ç†æµç¨‹å·²èµ°å®Œä¸€è½®ï¼Œä½†å¯èƒ½åŒ…å«å¾…é‡è¯‘é¡¹)

å·²å®Œæˆ:

æ¡ä»¶ï¼šåœ¨ vis_output ä¸‹ç”Ÿæˆäº† assets ä¸ {paper_title}\_Report.htmlã€‚
